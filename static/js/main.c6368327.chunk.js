(this["webpackJsonpimage-cropping-with-react-easy-crop"]=this["webpackJsonpimage-cropping-with-react-easy-crop"]||[]).push([[0],{17:function(e,t,n){},18:function(e,t,n){},25:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(9),i=n.n(c),o=(n(17),n(8)),s=n(11),u=n(2),l=(n(18),n(3)),p=n.n(l),d=n(6),g=n(12),m=function(e){return new Promise((function(t,n){var a=new Image;a.addEventListener("load",(function(){return t(a)})),a.addEventListener("error",(function(e){return n(e)})),a.setAttribute("crossOrigin","anonymous"),a.src=e}))};function j(e){return e*Math.PI/180}function h(e,t){return b.apply(this,arguments)}function b(){return(b=Object(d.a)(p.a.mark((function e(t,n){var a,r,c,i,o,s,u,l=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=l.length>2&&void 0!==l[2]?l[2]:0,e.next=3,m(t);case 3:return r=e.sent,c=document.createElement("canvas"),i=c.getContext("2d"),o=Math.max(r.width,r.height),s=o/2*Math.sqrt(2)*2,c.width=s,c.height=s,i.translate(s/2,s/2),i.rotate(j(a)),i.translate(-s/2,-s/2),i.drawImage(r,s/2-.5*r.width,s/2-.5*r.height),u=i.getImageData(0,0,s,s),c.width=n.width,c.height=n.height,i.putImageData(u,Math.round(0-s/2+.5*r.width-n.x),Math.round(0-s/2+.5*r.height-n.y)),e.abrupt("return",new Promise((function(e){c.toBlob((function(t){console.log(t),e(URL.createObjectURL(t))}),"image/jpeg")})));case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var f=n(0),v=[{value:4/3,text:"4/3"},{value:16/9,text:"16/9"},{value:.5,text:"1/2"}],O=function(e){var t=e.id,n=e.imageUrl,r=e.cropInit,c=e.zoomInit,i=e.aspectInit,o=e.onCancel,s=e.setCroppedImageFor,l=e.resetImage;null==c&&(c=1),null==r&&(r={x:0,y:0}),null==i&&(i=v[0]);var m=Object(a.useState)(c),j=Object(u.a)(m,2),b=j[0],O=j[1],x=Object(a.useState)(r),I=Object(u.a)(x,2),C=I[0],w=I[1],U=Object(a.useState)(i),y=Object(u.a)(U,2),k=y[0],S=y[1],N=Object(a.useState)(null),F=Object(u.a)(N,2),L=F[0],M=F[1],z=function(e){O(e)},P=function(){var e=Object(d.a)(p.a.mark((function e(){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(n,L);case 2:a=e.sent,s(t,C,b,k,a);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{className:"backdrop"}),Object(f.jsx)("div",{className:"crop-container",children:Object(f.jsx)(g.a,{image:n,zoom:b,crop:C,aspect:k.value,onCropChange:function(e){w(e)},onZoomChange:z,onCropComplete:function(e,t){M(t)}})}),Object(f.jsxs)("div",{className:"controls",children:[Object(f.jsxs)("div",{className:"controls-upper-area",children:[Object(f.jsx)("input",{type:"range",min:1,max:3,step:.1,value:b,onInput:function(e){z(e.target.value)},className:"slider"}),Object(f.jsx)("select",{onChange:function(e){var t=e.target.value,n=v.find((function(e){return e.value==t}));S(n)},children:v.map((function(e){return Object(f.jsx)("option",{value:e.value,selected:e.value===k.value,children:e.text},e.text)}))})]}),Object(f.jsxs)("div",{className:"button-area",children:[Object(f.jsx)("button",{onClick:o,children:"Cancel"}),Object(f.jsx)("button",{onClick:function(){l(t)},children:"Reset"}),Object(f.jsx)("button",{onClick:P,children:"Crop"})]})]})]})},x=[{id:1,imageUrl:"images/car1.png",croppedImageUrl:null},{id:2,imageUrl:"images/car2.png",croppedImageUrl:null},{id:3,imageUrl:"images/car3.png",croppedImageUrl:null},{id:4,imageUrl:"images/car4.png",croppedImageUrl:null}];var I=function(){var e=Object(a.useState)(x),t=Object(u.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(null),i=Object(u.a)(c,2),l=i[0],p=i[1],d=function(e,t,a,c,i){var u=Object(s.a)(n),l=n.findIndex((function(t){return t.id===e})),d=n[l],g=Object(o.a)(Object(o.a)({},d),{},{croppedImageUrl:i,crop:t,zoom:a,aspect:c});u[l]=g,r(u),p(null)};return Object(f.jsxs)("div",{children:[l?Object(f.jsx)(O,{id:l.id,imageUrl:l.imageUrl,cropInit:l.crop,zoomInit:l.zoom,aspectInit:l.aspect,onCancel:function(){p(null)},setCroppedImageFor:d,resetImage:function(e){d(e)}}):null,n.map((function(e){return Object(f.jsx)("div",{className:"imageCard",children:Object(f.jsx)("img",{src:e.croppedImageUrl?e.croppedImageUrl:e.imageUrl,alt:"",onClick:function(){console.log(e),p(e)}})},e.id)}))]})},C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,26)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))};i.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(I,{})}),document.getElementById("root")),C()}},[[25,1,2]]]);
//# sourceMappingURL=main.c6368327.chunk.js.map